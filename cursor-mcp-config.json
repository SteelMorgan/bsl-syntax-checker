{
  "$schema": "https://modelcontextprotocol.io/schema/mcp-config.json",
  "_comment": "üéØ MCP BSL Server Configuration for Cursor IDE - –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø",
  "_version": "v0.1.0-fixed",
  "_status": "‚úÖ –í—Å–µ MCP –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ",
  "_fixes": [
    "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª—è 'method' –≤–º–µ—Å—Ç–æ 'tool'",
    "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ MCP –º–µ—Ç–æ–¥—ã: initialize, tools/list, tools/call",
    "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è JSON-RPC 2.0 –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤",
    "‚úÖ Cursor IDE —Ç–µ–ø–µ—Ä—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ tools",
    "‚úÖ –ó–∞–ø—Ä–æ—Å—ã analyze —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫"
  ],
  "_usage": [
    "1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –æ–±—Ä–∞–∑ —Å–æ–±—Ä–∞–Ω: docker build -t mcp-bsl-server:latest .",
    "2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤: %APPDATA%\\Cursor\\User\\globalStorage\\saoudrizwan.claude-dev\\settings\\cline_mcp_settings.json",
    "3. –û–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç–∞–º: D:\\My Projects\\Projects 1C",
    "4. –í–∫–ª—é—á–∏—Ç–µ –Ω—É–∂–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (disabled: false)",
    "5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor IDE",
    "6. Web UI –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:9090"
  ],
  "_architecture": {
    "deployment": "Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ - –∏–∑–æ–ª—è—Ü–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, BSL LS –≤–∫–ª—é—á–µ–Ω)",
    "mcp_transports": {
      "stdio": "–î–ª—è Cursor IDE - JSON-RPC —á–µ—Ä–µ–∑ stdin/stdout",
      "http": "–î–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π - REST API"
    },
    "web_ui": "–í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 9090 (Swagger UI, –ª–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏)"
  },
  "mcpServers": {
    "bsl-mcp-stdio": {
      "description": "üéØ MCP stdio —Ä–µ–∂–∏–º –¥–ª—è Cursor IDE (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)",
      "command": "docker",
      "args": [
        "exec",
        "-i",
        "mcp-bsl-server-checker",
        "java",
        "-jar",
        "/app/app.jar"
      ],
      "env": {
        "MCP_TRANSPORT": "stdio",
        "LOGGING_ENABLED": "false"
      },
      "disabled": false,
      "alwaysAllow": [
        "bslcheck_analyze",
        "bslcheck_format", 
        "bslcheck_session_start",
        "bslcheck_session_status",
        "bslcheck_session_stop"
      ],
      "_prerequisites": [
        "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 'mcp-bsl-server-checker' –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω",
        "–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞: docker run --rm -d --name mcp-bsl-server-checker -e MCP_TRANSPORT=http -e MOUNT_HOST_ROOT=\"D:\\My Projects\\Projects 1C\" -p 9090:9090 -p 8080:8080 -v \"D:\\My Projects\\Projects 1C:/workspaces:ro\" mcp-bsl-server:latest"
      ],
      "_web_ui": "http://localhost:9090",
      "_tools": [
        "bslcheck_analyze - –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ 1C –Ω–∞ –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è",
        "bslcheck_format - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ 1C",
        "bslcheck_session_start - –∑–∞–ø—É—Å–∫ —Å–µ—Å—Å–∏–∏ BSL Language Server",
        "bslcheck_session_status - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏",
        "bslcheck_session_stop - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Å—Å–∏–∏"
      ]
    },
    "bsl-mcp-http": {
      "description": "üåê MCP HTTP —Ä–µ–∂–∏–º –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π",
      "command": "docker",
      "args": [
        "run",
        "--rm",
        "-d",
        "-p",
        "9090:9090",
        "-p", 
        "8080:8080",
        "-v",
        "D:\\My Projects\\Projects 1C:/workspaces:ro",
        "--name",
        "mcp-bsl-server-checker",
        "mcp-bsl-server:latest"
      ],
      "env": {
        "MCP_TRANSPORT": "http",
        "MCP_PORT": "8080",
        "WEB_UI_PORT": "9090",
        "MOUNT_HOST_ROOT": "D:\\My Projects\\Projects 1C",
        "LOGGING_ENABLED": "true"
      },
      "disabled": true,
      "alwaysAllow": [],
      "_mcp_endpoint": "http://localhost:9090/mcp",
      "_web_ui": "http://localhost:9090",
      "_swagger": "http://localhost:9090/swagger-ui",
      "_note": "HTTP —Ä–µ–∂–∏–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π"
    },
    "bsl-mcp-full-stack": {
      "description": "üöÄ –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º (Grafana + Prometheus)",
      "command": "docker-compose",
      "args": [
        "up",
        "-d"
      ],
      "env": {},
      "disabled": true,
      "alwaysAllow": [],
      "_services": "MCP Server + Loki + Grafana + Prometheus",
      "_urls": {
        "mcp_server": "http://localhost:9090",
        "swagger": "http://localhost:9090/swagger-ui",
        "grafana": "http://localhost:3000 (admin/admin)",
        "prometheus": "http://localhost:9090/prometheus"
      },
      "_note": "–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –ø–æ–ª–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º"
    }
  },
  "_testing": {
    "manual_tests": [
      "1. MCP Initialize: curl -X POST http://localhost:9090/mcp -H 'Content-Type: application/json' -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{\"tools\":{}}}}'",
      "2. MCP Tools List: curl -X POST http://localhost:9090/mcp -H 'Content-Type: application/json' -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/list\",\"params\":{}}'",
      "3. MCP Tools Call: curl -X POST http://localhost:9090/mcp -H 'Content-Type: application/json' -d '{\"jsonrpc\":\"2.0\",\"id\":3,\"method\":\"tools/call\",\"params\":{\"name\":\"bslcheck_analyze\",\"arguments\":{\"srcDir\":\"/workspaces\",\"reporters\":[\"json\"],\"language\":\"ru\"}}}'"
    ],
    "expected_results": {
      "initialize": "Status 200, serverInfo with name and version",
      "tools_list": "Status 200, 5 tools available",
      "tools_call": "Status 200, content with analysis results"
    }
  },
  "_troubleshooting": {
    "cursor_not_seeing_tools": [
      "1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: docker ps --filter name=mcp-bsl-server-checker",
      "2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: docker logs mcp-bsl-server-checker",
      "3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor IDE",
      "4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é MCP –≤ Cursor"
    ],
    "analyze_request_fails": [
      "1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ volume mapping",
      "2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ BSL Language Server –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ",
      "3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞"
    ],
    "web_ui_not_accessible": [
      "1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 9090 –Ω–µ –∑–∞–Ω—è—Ç",
      "2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏",
      "3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
    ]
  }
}
