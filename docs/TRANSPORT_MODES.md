# –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã MCP BSL Server

## üìã –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

MCP BSL Server –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã**:

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –í–°–ï–ì–î–ê:

1. **Web UI** (–ø–æ—Ä—Ç 9090):
   - Swagger UI
   - Health Check
   - Prometheus –º–µ—Ç—Ä–∏–∫–∏
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–∞

2. **HTTP REST API** (–ø–æ—Ä—Ç 8080):
   - `/api/analyze` - –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
   - `/api/format` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - `/api/session/*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

### –ß—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è:

**–¢–æ–ª—å–∫–æ stdio —Ä–µ–∂–∏–º** —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `MCP_TRANSPORT`.

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `MCP_TRANSPORT`

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ **–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (–Ω–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ!):

```powershell
# –†–µ–∂–∏–º stdio (–¥–ª—è Cursor IDE)
docker run -e MCP_TRANSPORT=stdio ...

# –†–µ–∂–∏–º http (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
docker run -e MCP_TRANSPORT=http ...
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏:

1. **Web UI + HTTP API** ‚Äî **–í–°–ï–ì–î–ê –∞–∫—Ç–∏–≤–Ω—ã** (–ø–æ—Ä—Ç—ã 9090 –∏ 8080)
2. **stdio —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç** ‚Äî –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `MCP_TRANSPORT=stdio`

---

## üìä –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### –†–µ–∂–∏–º 1: HTTP (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```powershell
docker run --rm -d \
  --name mcp-bsl-server-checker \
  -e MCP_TRANSPORT=http \
  -p 9090:9090 \
  -p 8080:8080 \
  mcp-bsl-server:latest
```

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ Web UI –Ω–∞ –ø–æ—Ä—Ç—É 9090
- ‚úÖ HTTP REST API –Ω–∞ –ø–æ—Ä—Ç—É 8080
- ‚ùå stdio —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ù–ï –∞–∫—Ç–∏–≤–µ–Ω

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä—è–º—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ API
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Swagger
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

---

### –†–µ–∂–∏–º 2: stdio (–¥–ª—è Cursor IDE)

```powershell
docker run --rm -d \
  --name mcp-bsl-server-checker \
  -e MCP_TRANSPORT=stdio \
  -p 9090:9090 \
  mcp-bsl-server:latest
```

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ Web UI –Ω–∞ –ø–æ—Ä—Ç—É 9090
- ‚úÖ HTTP REST API –Ω–∞ –ø–æ—Ä—Ç—É 8080
- ‚úÖ stdio —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç (–¥–ª—è MCP –∫–ª–∏–µ–Ω—Ç–æ–≤)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- Cursor IDE —á–µ—Ä–µ–∑ `docker exec -i`
- –î—Ä—É–≥–∏–µ MCP-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

---

### ‚ö†Ô∏è –í–ê–ñ–ù–û: Cursor –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É!

–î–ª—è Cursor IDE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** —Å —Ä–µ–∂–∏–º–æ–º `http`:

1. **–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (–æ–¥–∏–Ω —Ä–∞–∑):
   ```powershell
   docker run --rm -d \
     --name mcp-bsl-server-checker \
     -e MCP_TRANSPORT=http \
     -p 9090:9090 \
     -p 8080:8080 \
     mcp-bsl-server:latest
   ```

2. **Cursor –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `docker exec`**:
   ```json
   {
     "command": "docker",
     "args": ["exec", "-i", "mcp-bsl-server-checker", "java", "-jar", "/app/app.jar"],
     "env": {
       "MCP_TRANSPORT": "stdio"
     }
   }
   ```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- `docker exec` –∑–∞–ø—É—Å–∫–∞–µ—Ç **–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
- –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–∞–µ—Ç `MCP_TRANSPORT=stdio` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Cursor
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∂–∏–º–µ `http`

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ö–µ–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Cursor:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Ä–µ–∂–∏–º–µ http** (–æ–¥–∏–Ω —Ä–∞–∑):
   ```powershell
   docker run --rm -d \
     --name mcp-bsl-server-checker \
     -e MCP_TRANSPORT=http \
     -p 9090:9090 \
     -p 8080:8080 \
     -v "D:\My Projects\Projects 1C:/workspaces:ro" \
     mcp-bsl-server:latest
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Cursor** (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã http://localhost:9090):
   - Cursor –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `docker exec`
   - –ö–∞–∂–¥–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç stdio –ø—Ä–æ—Ü–µ—Å—Å
   - Web UI –æ—Å—Ç–∞—ë—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

3. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ Web UI –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω (Swagger, –º–µ—Ç—Ä–∏–∫–∏)
   - ‚úÖ –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å HTTP –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å Cursor
   - ‚úÖ –õ–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```powershell
docker inspect mcp-bsl-server-checker | ConvertFrom-Json | Select-Object -ExpandProperty Config | Select-Object -ExpandProperty Env | Select-String "MCP_TRANSPORT"
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ API:
```powershell
Invoke-RestMethod http://localhost:9090/status | ConvertTo-Json
```

–û—Ç–≤–µ—Ç:
```json
{
  "mcp": {
    "transport": "http",
    "port": 8080
  }
}
```

---

## üìù –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

### SSE –∏ NDJSON —Ä–µ–∂–∏–º—ã (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

```powershell
# SSE (Server-Sent Events) - –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞
docker run -e MCP_TRANSPORT=sse ...

# NDJSON (Newline-Delimited JSON) - –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
docker run -e MCP_TRANSPORT=ndjson ...
```

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ.

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –í: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ä–µ–∂–∏–º—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?
**–û:** –ß–∞—Å—Ç–∏—á–Ω–æ –î–ê:
- HTTP API + Web UI —Ä–∞–±–æ—Ç–∞—é—Ç –í–°–ï–ì–î–ê (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç `MCP_TRANSPORT`)
- stdio –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –µ—Å–ª–∏ `MCP_TRANSPORT=stdio`
- –î–ª—è Cursor –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `docker exec` —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º stdio –ø—Ä–æ—Ü–µ—Å—Å–æ–º

### –í: –ù—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –¥–ª—è —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–∞?
**–û:** –ù–ï–¢! –†–µ–∂–∏–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ **–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** —á–µ—Ä–µ–∑ `-e MCP_TRANSPORT=...`

### –í: –ö–∞–∫–æ–π —Ä–µ–∂–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è Cursor?
**–û:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Ä–µ–∂–∏–º–µ `http`, –∞ Cursor –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è —á–µ—Ä–µ–∑ `docker exec`.

### –í: –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞?
**–û:** –ù–ï–¢. –ù—É–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ —Å –Ω–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

---

## üõ†Ô∏è –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ HTTP:
```powershell
docker run --rm -d \
  --name mcp-bsl-server-checker \
  -e MCP_TRANSPORT=http \
  -p 9090:9090 \
  -p 8080:8080 \
  -v "D:\My Projects\Projects 1C:/workspaces:ro" \
  mcp-bsl-server:latest
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ stdio:
```powershell
docker run --rm -d \
  --name mcp-bsl-server-checker \
  -e MCP_TRANSPORT=stdio \
  -p 9090:9090 \
  -v "D:\My Projects\Projects 1C:/workspaces:ro" \
  mcp-bsl-server:latest
```

### –°–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞ (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫):
```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker stop mcp-bsl-server-checker

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker run --rm -d \
  --name mcp-bsl-server-checker \
  -e MCP_TRANSPORT=stdio \
  -p 9090:9090 \
  mcp-bsl-server:latest
```

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** –û–∫—Ç—è–±—Ä—å 2024

